import java.util.ArrayList;
import java.util.List;


public class DefenseManager {

    private static int firewall_score = 0;
    private static int antivirus_score = 50;
    public static int crypto_score = 0;
    public static  int obfusc_score = 0;
    public static int budget = 100000;

    private List<DefensiveSoftware> installedSoftware;

    public DefenseManager() {
        installedSoftware = new ArrayList<>();
    }

    public void installSoftware(DefensiveSoftware software) throws InterruptedException {
        software.install();
        firewall_score += software.firewallScore;
        antivirus_score += software.antivirusScore;
        crypto_score += software.cryptoScore;
        obfusc_score += software.obfuscScore;
        installedSoftware.add(software);
        budget -= software.price;
    }

    public List<DefensiveSoftware> getInstalledSoftware() {
        return installedSoftware;
    }

    public String print_info() {
        String info = String.format("\n             ,----------------,              ,---------,\n" +
                "        ,-----------------------,          ,\"        ,\"|\n" +
                "      ,\"                      ,\"|        ,\"        ,\"  |\n" +
                "     +-----------------------+  |      ,\"        ,\"    |\n" +
                "     |  .-----------------.  |  |     +---------+      |\n" +
                "     |  | \u001B[32mAntivirus : %s\u001B[0m |  |  |     | -==----'|      |\n" +
                "     |  | \u001B[32mFirewall  : %s\u001B[0m |  |  |     |         |      |\n" +
                "     |  | \u001B[32mChiffremt : %s\u001B[0m |  |  |/----|`---=    |      |\n" +
                "     |  | \u001B[32mObfusc    : %s\u001B[0m |  |  |   ,/|==== ooo |      ;\n" +
                "     |  | \u001B[32mC:\\>_\u001B[0m           |  |  |  // |(((( [33]|    ,\"\n" +
                "     |  `-----------------'  |,\" .;'| |((((     |  ,\"\n" +
                "     +-----------------------+  ;;  | |         |,\"\n" +
                "        /_)______________(_/  //'   | +---------+\n\n\n", String.format("%03d", antivirus_score), String.format("%03d", firewall_score), String.format("%03d", crypto_score), String.format("%03d", obfusc_score));
        return (info);
    }
    public void getScores() {
        System.out.println("firewall_score = " + firewall_score);
        System.out.println("antivirus_score = " + antivirus_score);
        System.out.println("crypto_score = " + crypto_score);
        System.out.println("obfusc_score = " + obfusc_score);
    }
}
